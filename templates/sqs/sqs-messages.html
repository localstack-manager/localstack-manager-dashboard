{% extends 'base.html' %}

{% block title %}SQS Management{% endblock %}

{% block content %}
<h3>Sqs Queues</h3>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/sqsList" class="alert-link">List Queues</a></li>
        <li class="breadcrumb-item active" aria-current="page">List Messages</li>
    </ol>
</nav>

<div class="form-inline">
    <div class="form-group mx-sm-3 mb-2">
        <input type="text" class="form-control" id="queueNameId" placeholder="Queue Name" value="{{queue_name}}">
    </div>
    <button type="submit" class="btn btn-primary mb-2" onclick="list_messages()">Filter</button>
     &nbsp;
    <div class="spinner-border spinner-border-sm" role="status">
            <span class="sr-only">Loading...</span>
    </div>    
	
	<div class="form-group mx-sm-3 mb-2">
        <textarea rows="3" cols="50" class="form-control" id="messageId" placeholder="add message"></textarea>
    </div>
	<div class="form-group">
		<button type="submit" class="btn btn-primary mb-2" onclick="addMessage()">Add</button>
	</div>
</div>

<div class="table-responsive">
    
    <table id="sqsTableId" class="table table-striped table-sm">
        <thead>
            <tr>
                <th>Message Id</th>
                <th>Message Body</th>
                <th></th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</div>
{% endblock %}

{% block page_scripts %}
<script>
	poll_messages();	
</script>
{% endblock %}